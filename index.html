<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0"
  />
  <title>Faceless Script Generator ‚Äì Roblox Rant</title>

  <!-- ‚úÖ Google AdSense verification script -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6610889405997257"
          crossorigin="anonymous"></script>
  <!-- ‚úÖ End AdSense verification script -->

  <!-- ‚úÖ Google Search Console site verification -->
  <meta name="google-site-verification" content="FSjAX-8iMppXgSzcWB-IpDSVZdqr8F2_H61BSxneciE" />

  <link
    href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;700&display=swap"
    rel="stylesheet"
  />

  <style>
    :root {
      --primary: #39ff14;
      --primary-glow: rgba(57, 255, 20, 0.5);
      --bg-light: #ffffff;
      --bg-dark: #050712;
      --text-light: #0d0d0d;
      --text-dark: #f5f7ff;
      --border-light: #d0d0dd;
      --border-dark: #262a3b;
      --card-light: #ffffff;
      --card-dark: #111527;
      --topbar-bg-light: #f7f7f9;
      --topbar-bg-dark: #050712;
    }

    body.light {
      background: var(--bg-light);
      color: var(--text-light);
    }

    body.dark {
      background: var(--bg-dark);
      color: var(--text-dark);
    }

    body {
      font-family: "Rubik", sans-serif;
      margin: 0;
      padding: 0;
      transition: background 0.3s ease, color 0.3s ease;
    }

    /* Top bar */
    .top-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 8px 16px;
      border-bottom: 1px solid var(--border-light);
      background: var(--topbar-bg-light);
      position: sticky;
      top: 0;
      z-index: 50;
    }
    body.dark .top-bar {
      background: var(--topbar-bg-dark);
      border-bottom-color: var(--border-dark);
    }

    /* Home icon button */
    .home-btn {
      border-radius: 999px;
      border: 1px solid var(--border-light);
      background: #f6f6f6;
      padding: 6px 10px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: 0.2s ease;
    }
    body.dark .home-btn {
      background: #14182a;
      border-color: var(--border-dark);
      color: #f5f7ff;
    }
    .home-btn svg {
      width: 16px;
      height: 16px;
    }
    .home-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 6px var(--primary-glow);
    }

    .top-right {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    /* VSUB-style Community + Discord link */
    .community-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 13px;
      opacity: 0.9;
      text-decoration: none;
      color: inherit;
      padding: 4px 0;
      transition: 0.2s ease;
    }
    body.dark .community-link {
      color: #f5f7ff;
    }
    .community-link svg {
      width: 20px;
      height: 20px;
      fill: #5865f2; /* official Discord blurple */
      display: block;
    }
    .community-link:hover {
      opacity: 1;
      transform: translateY(-1px);
    }

    .theme-mode-btn,
    .how-btn {
      padding: 6px 14px;
      border-radius: 20px;
      border: 1px solid var(--border-light);
      background: #f6f6f6;
      font-size: 14px;
      cursor: pointer;
      font-weight: 500;
      transition: 0.25s ease;
    }
    body.dark .theme-mode-btn,
    body.dark .how-btn {
      border-color: var(--border-dark);
      background: #14182a;
      color: #f5f7ff;
    }
    .theme-mode-btn:hover,
    .how-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 6px var(--primary-glow);
    }

    .container {
      max-width: 900px;
      margin: 24px auto 40px;
      padding: 0 16px;
    }

    h1 {
      text-align: center;
      color: var(--primary);
      font-weight: 700;
      margin-bottom: 4px;
      text-shadow: 0 0 8px var(--primary-glow);
      font-size: 32px;
    }

    .subtitle {
      text-align: center;
      font-size: 14px;
      opacity: 0.9;
      margin-bottom: 22px;
    }

    .ad-box {
      width: 100%;
      min-height: 90px;
      border: 1px dashed var(--border-light);
      border-radius: 10px;
      margin: 16px 0;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0.7;
      font-size: 13px;
    }
    body.dark .ad-box {
      border-color: var(--border-dark);
    }

    .panel {
      background: var(--card-light);
      border-radius: 14px;
      padding: 18px 18px 20px;
      border: 1px solid var(--border-light);
      margin-bottom: 20px;
      box-shadow: 0 8px 18px rgba(0, 0, 0, 0.06);
    }
    body.dark .panel {
      background: var(--card-dark);
      border-color: var(--border-dark);
      box-shadow: 0 10px 26px rgba(0, 0, 0, 0.7);
    }

    label {
      font-weight: 600;
      margin-bottom: 6px;
      display: block;
      font-size: 14px;
    }

    input[type="text"],
    input[type="password"],
    textarea,
    select {
      width: 100%;
      padding: 10px 12px;
      border-radius: 8px;
      border: 1px solid var(--border-light);
      background: transparent;
      color: inherit;
      font-size: 14px;
      margin-bottom: 14px;
      box-sizing: border-box;
      outline: none;
    }
    body.dark input[type="text"],
    body.dark input[type="password"],
    body.dark textarea,
    body.dark select {
      background: #050712;
      border-color: var(--border-dark);
    }

    textarea {
      resize: vertical;
      min-height: 80px;
    }

    input:focus,
    textarea:focus,
    select:focus {
      border-color: var(--primary);
      box-shadow: 0 0 8px var(--primary-glow);
    }

    .row {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      margin-top: 4px;
      margin-bottom: 6px;
    }
    .row > .col {
      flex: 1 1 180px;
    }

    .slider-label {
      font-weight: 600;
      font-size: 13px;
      margin-bottom: 4px;
    }
    .slider-value {
      font-size: 12px;
      opacity: 0.75;
      margin-top: 2px;
    }

    input[type="range"] {
      width: 100%;
    }

    .toggles {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-top: 8px;
      margin-bottom: 4px;
    }
    .toggles label {
      font-weight: 500;
      font-size: 13px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      margin-bottom: 0;
    }

    button {
      border: none;
      padding: 11px 14px;
      border-radius: 8px;
      font-weight: 700;
      cursor: pointer;
      font-size: 14px;
      transition: 0.2s;
      display: inline-block;
    }
    .btn-primary {
      background: var(--primary);
      color: #000;
    }
    .btn-secondary {
      background: transparent;
      color: inherit;
      border: 1px solid var(--border-light);
    }
    body.dark .btn-secondary {
      background: #151b2f;
      border-color: var(--border-dark);
    }
    button:hover {
      opacity: 0.9;
      transform: translateY(-1px);
      box-shadow: 0 0 8px var(--primary-glow);
    }

    .button-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }

    /* API section */
    .api-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      font-weight: 600;
      font-size: 14px;
    }
    .api-header span:last-child {
      font-size: 18px;
    }

    .api-body {
      margin-top: 10px;
      display: none;
    }
    .api-body.open {
      display: block;
    }

    .api-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      margin-bottom: 10px;
    }
    .api-row input {
      flex: 1 1 220px;
      margin-bottom: 0;
    }

    .api-eye-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 54px;
      padding-inline: 16px;
    }
    .api-eye-btn svg {
      width: 18px;
      height: 18px;
    }

    .api-status {
      font-size: 12px;
      margin-top: 6px;
      min-height: 16px;
    }
    .api-status.ok {
      color: #2e7d32;
    }
    .api-status.err {
      color: #c62828;
    }

    .api-help {
      font-size: 12px;
      margin-top: 6px;
      opacity: 0.9;
    }
    .api-help a {
      color: var(--primary);
      font-weight: 600;
      text-decoration: none;
    }
    .api-help a:hover {
      text-decoration: underline;
    }

    .groq-link-btn {
      margin-top: 8px;
      display: inline-block;
      padding: 8px 12px;
      border-radius: 8px;
      border: 1px solid var(--border-light);
      font-size: 12px;
      text-decoration: none;
      color: inherit;
      transition: 0.2s;
    }
    body.dark .groq-link-btn {
      border-color: var(--border-dark);
    }
    .groq-link-btn:hover {
      border-color: var(--primary);
      box-shadow: 0 0 6px var(--primary-glow);
      transform: translateY(-1px);
    }

    /* Modal (How to Use + Terms of Service + Privacy + Cookie Preferences) */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.55);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 100;
    }
    .modal-overlay.open {
      display: flex;
    }
    .modal {
      max-width: 520px;
      width: 90%;
      background: var(--card-light);
      border-radius: 16px;
      border: 1px solid var(--border-light);
      padding: 18px 22px 16px;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.7);
      animation: fadeInUp 0.18s ease-out;
      max-height: 80vh;
      overflow-y: auto;
    }
    body.dark .modal {
      background: var(--card-dark);
      border-color: var(--border-dark);
    }
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }
    .modal-title {
      font-size: 20px;
      font-weight: 700;
    }
    .modal-close {
      border-radius: 999px;
      border: 1px solid var(--border-light);
      padding: 4px 10px;
      font-size: 13px;
      cursor: pointer;
      background: transparent;
    }
    body.dark .modal-close {
      border-color: var(--border-dark);
      color: #f5f7ff;
    }
    .modal-close:hover {
      box-shadow: 0 0 6px var(--primary-glow);
    }
    .modal-body {
      font-size: 13px;
      line-height: 1.55;
    }
    .modal-body ol {
      padding-left: 18px;
      margin-top: 6px;
      margin-bottom: 8px;
    }
    .modal-body li {
      margin-bottom: 4px;
    }
    .modal-tip {
      margin-top: 8px;
      font-size: 12px;
      opacity: 0.8;
    }
    .tos-section-title {
      font-weight: 600;
      margin-top: 8px;
      margin-bottom: 4px;
      font-size: 13px;
    }
    .tos-small {
      font-size: 12px;
      opacity: 0.9;
    }
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(4px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    #output {
      min-height: 160px;
      white-space: pre-wrap;
      line-height: 1.55rem;
      font-size: 1.02rem;
    }

    .copy-flash {
      font-size: 11px;
      margin-left: 6px;
      opacity: 0;
      transition: opacity 0.2s ease;
    }
    .copy-flash.visible {
      opacity: 0.85;
    }

    /* Home toast */
    .home-toast {
      position: fixed;
      top: 46px;
      left: 16px;
      background: rgba(0, 0, 0, 0.92);
      color: #f5f7ff;
      padding: 6px 12px;
      border-radius: 999px;
      font-size: 12px;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.25s ease;
      z-index: 120;
      border: 1px solid #333955;
    }
    .home-toast.show {
      opacity: 1;
    }

    /* Cookie banner */
    .cookie-banner {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      padding: 8px 14px;
      display: none;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      z-index: 130;
      font-size: 12px;
      background: #050712;
      color: #f5f7ff;
      border-top: 1px solid #333955;
    }
    body.light .cookie-banner {
      background: #f7f7f9;
      color: #0d0d0d;
      border-top-color: #d0d0dd;
    }
    .cookie-banner.show {
      display: flex;
      flex-wrap: wrap;
    }
    .cookie-text {
      flex: 1 1 220px;
      opacity: 0.9;
    }
    .cookie-actions {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .cookie-link-btn {
      background: transparent;
      border-radius: 999px;
      border: 1px solid var(--border-light);
      padding: 4px 10px;
      font-size: 12px;
      cursor: pointer;
    }
    body.dark .cookie-link-btn {
      border-color: var(--border-dark);
      color: #f5f7ff;
    }
    .cookie-accept-btn {
      border-radius: 999px;
      background: var(--primary);
      color: #000;
      font-size: 12px;
      padding: 6px 14px;
    }
    .cookie-accept-btn:hover,
    .cookie-link-btn:hover {
      box-shadow: 0 0 6px var(--primary-glow);
      transform: translateY(-1px);
    }

    @media (max-width: 600px) {
      .top-bar {
        padding: 8px 10px;
      }
      .button-row {
        flex-direction: column;
      }
    }
  </style>
</head>

<body class="light">
  <!-- TOP BAR -->
  <div class="top-bar">
    <!-- Home icon -->
    <button id="homeBtn" class="home-btn" title="Home">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path
          d="M12 3 3 10h2v9h5v-5h4v5h5v-9h2L12 3z"
          fill="currentColor"
        />
      </svg>
    </button>

    <div class="top-right">
      <button id="themeModeBtn" class="theme-mode-btn">üåô Dark</button>
      <button id="howToBtn" class="how-btn">How to Use</button>
      <button id="tosBtn" class="how-btn">Terms of Service</button>
      <button id="privacyBtn" class="how-btn">Privacy Policy</button>

      <!-- Community + official purple Discord icon (VSUB-style) -->
      <a
        href="https://discord.gg/Y4GenJXgEn"
        class="community-link"
        target="_blank"
        rel="noopener noreferrer"
        title="Join our Discord community"
      >
        <span>Community</span>
        <svg
          viewBox="0 0 24 24"
          aria-hidden="true"
        >
          <path d="M20.317 4.3698C18.978 3.7778 17.543 3.3698 16.045 3.1648C15.81 3.5978 15.606 4.0588 15.438 4.5398C13.886 4.3068 12.315 4.3068 10.763 4.5398C10.595 4.0588 10.39 3.5978 10.155 3.1648C8.658 3.3698 7.223 3.7778 5.883 4.3698C2.955 8.8188 2.138 13.1368 2.501 17.4038C4.202 18.6438 6.066 19.6208 8.043 20.3058C8.508 19.6608 8.923 18.9828 9.284 18.2738C8.589 18.0128 7.926 17.6888 7.293 17.3088C7.458 17.1888 7.62 17.0648 7.778 16.9368C11.046 18.4338 14.94 18.4338 18.208 16.9368C18.367 17.0648 18.528 17.1888 18.693 17.3088C18.06 17.6888 17.397 18.0128 16.702 18.2738C17.063 18.9828 17.478 19.6608 17.943 20.3058C19.92 19.6208 21.784 18.6438 23.485 17.4038C23.957 12.6398 22.817 8.3478 20.317 4.3698ZM9.68101 14.4288C8.73101 14.4288 7.95601 13.6028 7.95601 12.5858C7.95601 11.5688 8.71301 10.7428 9.68101 10.7428C10.649 10.7428 11.424 11.5688 11.406 12.5858C11.406 13.6028 10.649 14.4288 9.68101 14.4288ZM14.319 14.4288C13.369 14.4288 12.594 13.6028 12.594 12.5858C12.594 11.5688 13.351 10.7428 14.319 10.7428C15.287 10.7428 16.062 11.5688 16.044 12.5858C16.044 13.6028 15.287 14.4288 14.319 14.4288Z"/>
        </svg>
      </a>
    </div>
  </div>

  <!-- Home toast -->
  <div id="homeToast" class="home-toast">
    More faceless generators coming soon.
  </div>

  <!-- HOW TO USE MODAL -->
  <div id="howModal" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">How to Use the Roblox Rant Generator</div>
        <button id="howClose" class="modal-close">Close</button>
      </div>
      <div class="modal-body">
        <ol>
          <li>
            <strong>Type a Topic / Theme</strong> in the box (e.g., ‚Äúschool‚Äù, ‚Äústrict
            parents‚Äù, ‚Äúlaggy servers‚Äù, ‚Äúmemes‚Äù).
          </li>
          <li>
            <strong>Pick an opening style</strong> (or leave it on Random) to choose how
            the rant starts.
          </li>
          <li>
            <strong>Set Rant Meltdown</strong> to choose the tone (Very chill ‚Üí Full
            meltdown).
          </li>
          <li>
            <strong>Choose how many paragraphs</strong> you want (1‚Äì60) to control the
            length.
          </li>
          <li>
            <strong>Pick a Narrator</strong> ‚Äì male, gender-neutral, or female.
          </li>
          <li>
            <strong>Optional toggles:</strong> include slang and allow swearing
            if you want a stronger script.
          </li>
          <li>
            <strong>Optional:</strong> paste any rant into the box to rewrite, shuffle,
            or make it more unique.
          </li>
          <li>
            Click <strong>Generate Rant</strong>, <strong>Rewrite</strong>,
            <strong>Shuffle</strong>, or <strong>Make Unique</strong> to create a script.
          </li>
          <li>
            Edit the script directly in the box if you want, then hit
            <strong>Copy</strong> when you‚Äôre happy with it.
          </li>
          <li>
            Make sure you‚Äôve added your <strong>Groq API key</strong> in the API section
            so the AI can work.
          </li>
        </ol>
        <div class="modal-tip">
          Tip: Clear, simple topics usually give the strongest, most relatable rants.
        </div>
      </div>
    </div>
  </div>

  <!-- TERMS OF SERVICE MODAL -->
  <div id="tosModal" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">Terms of Service</div>
        <button id="tosClose" class="modal-close">Close</button>
      </div>
      <div class="modal-body">
        <p class="tos-small">
          Last updated: 29 November 2025
        </p>

        <p>
          Welcome to the <strong>Roblox Rant Generator</strong> (‚Äúthe Site‚Äù, ‚Äúthe App‚Äù).
          By accessing or using this website, you agree to these Terms of Service.
          If you do not agree, please do not use the site.
        </p>

        <p class="tos-section-title">1. No affiliation with Roblox</p>
        <p>
          <strong>Roblox Rant Generator is not an official Roblox tool.</strong><br />
          We have no relationship, partnership, or endorsement from Roblox Corporation
          or any Roblox game, creator, or experience.
        </p>
        <p>
          We only support Roblox users who want to create fun rant-style scripts for
          entertainment and social media content.
        </p>

        <p class="tos-section-title">2. Purpose of the site</p>
        <p>
          This site provides AI-generated rant scripts for entertainment and content
          creation purposes only. Scripts are generated automatically based on your
          inputs and settings, and may not always be accurate, appropriate, or
          suitable for every audience.
        </p>

        <p class="tos-section-title">3. Acceptable use</p>
        <p>You agree that you will NOT use this site or its generated content to:</p>
        <ul class="tos-small">
          <li>Harass, bully, or threaten other people.</li>
          <li>Promote hate speech, discrimination, or slurs.</li>
          <li>Share illegal, extremely violent, or adult-only content.</li>
          <li>Impersonate Roblox staff or claim this tool is official Roblox software.</li>
        </ul>
        <p>
          You are fully responsible for how you use any script you generate, including
          what you post on platforms like YouTube, TikTok, or other social media.
        </p>

        <p class="tos-section-title">4. AI content and no guarantees</p>
        <p>
          All scripts are generated by AI based on your prompts and choices.
          We do not guarantee that:
        </p>
        <ul class="tos-small">
          <li>The output will be error-free or factually correct.</li>
          <li>The output will be suitable for monetization or advertiser-friendly.</li>
          <li>Platforms like YouTube, TikTok, or others will accept or approve your content.</li>
        </ul>

        <p class="tos-section-title">5. No liability</p>
        <p class="tos-small">
          We are not liable for any loss, strike, demonetization, account issues,
          or other consequences that may arise from using scripts generated by this site.
          You use the site at your own risk and are responsible for reviewing and editing
          any script before posting it publicly.
        </p>

        <p class="tos-section-title">6. Changes to the site</p>
        <p class="tos-small">
          We are constantly updating and improving the Roblox Rant Generator to make it
          easier for users to create better scripts. Features, prompts, and designs may
          change at any time, and we may pause or stop the service without notice.
        </p>

        <p class="tos-section-title">7. Contact</p>
        <p class="tos-small">
          For questions about these Terms, or to contact the site owner, you can email:<br />
          <strong>guineagamehub@gmail.com</strong>
        </p>

        <p class="tos-small">
          By continuing to use this site, you confirm that you have read and agreed to
          these Terms of Service.
        </p>
      </div>
    </div>
  </div>

  <!-- PRIVACY POLICY MODAL -->
  <div id="privacyModal" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">Privacy Policy</div>
        <button id="privacyClose" class="modal-close">Close</button>
      </div>
      <div class="modal-body">
        <p class="tos-small">
          Last updated: 29 November 2025
        </p>

        <p>
          This Privacy Policy explains how the <strong>Roblox Rant Generator</strong>
          (‚Äúthe Site‚Äù, ‚Äúwe‚Äù, ‚Äúus‚Äù) handles information when you use the app.
        </p>

        <p class="tos-section-title">1. Information we collect</p>
        <p class="tos-small">
          This site does not ask you to create an account and does not directly collect
          your name, address, or payment details. However, we may collect:
        </p>
        <ul class="tos-small">
          <li>
            <strong>Basic usage data</strong> ‚Äì such as your browser type, device type,
            and pages viewed (through tools like analytics, if enabled).
          </li>
          <li>
            <strong>Cookies & similar technologies</strong> ‚Äì small files stored on your
            device to remember preferences and help show relevant ads.
          </li>
        </ul>

        <p class="tos-section-title">2. API key storage</p>
        <p class="tos-small">
          If you add a <strong>Groq API key</strong> in the app, it is stored
          <strong>only in your own browser‚Äôs local storage</strong>. It is never sent to
          us for storage. You can clear it at any time using the ‚ÄúClear‚Äù button in the
          API section or by clearing your browser data.
        </p>

        <p class="tos-section-title">3. Cookies and ads</p>
        <p class="tos-small">
          This site may use cookies to:
        </p>
        <ul class="tos-small">
          <li>Remember your dark/light theme preference.</li>
          <li>Remember your cookie choices.</li>
          <li>Help measure traffic and performance (analytics, if enabled).</li>
          <li>
            Support <strong>Google AdSense</strong> in showing ads and preventing fraud.
          </li>
        </ul>
        <p class="tos-small">
          Some cookies are <strong>strictly necessary</strong> for the site to function
          (for example, remembering that you accepted cookies). Optional cookies relate
          to ads and analytics and can be controlled via
          <strong>Cookie Preferences</strong>.
        </p>

        <p class="tos-section-title">4. Google AdSense</p>
        <p class="tos-small">
          We use Google AdSense to display ads. Google may use cookies and similar
          technologies to show relevant ads and to detect invalid traffic. These
          cookies may allow Google and its partners to show ads based on your visits
          to this and/or other sites.
        </p>
        <p class="tos-small">
          You can learn more about how Google uses data in advertising by visiting
          Google‚Äôs official policies and AdSense documentation.
        </p>

        <p class="tos-section-title">5. Third-party links</p>
        <p class="tos-small">
          The site may contain links to external websites (for example, Discord
          communities or documentation). We are not responsible for the privacy
          practices or content of those third-party sites.
        </p>

        <p class="tos-section-title">6. Your choices</p>
        <p class="tos-small">
          You can:
        </p>
        <ul class="tos-small">
          <li>Change your cookie choices using the Cookie Preferences options.</li>
          <li>Clear your browser cookies and local storage at any time.</li>
          <li>Use ad-blocking or privacy tools in your browser if desired.</li>
        </ul>

        <p class="tos-section-title">7. Contact</p>
        <p class="tos-small">
          If you have questions about this Privacy Policy, you can email:<br />
          <strong>guineagamehub@gmail.com</strong>
        </p>
      </div>
    </div>
  </div>

  <!-- COOKIE PREFERENCES MODAL -->
  <div id="cookieModal" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">Cookie Preferences</div>
        <button id="cookieClose" class="modal-close">Close</button>
      </div>
      <div class="modal-body">
        <p class="tos-small">
          We use cookies to keep the app working, remember your settings, and help
          support ads and basic analytics.
        </p>

        <p class="tos-section-title">Essential cookies</p>
        <p class="tos-small">
          These are required for the site to function (for example, remembering your
          theme and that you accepted cookies). They are always on.
        </p>

        <p class="tos-section-title">Optional cookies</p>
        <label class="tos-small">
          <input type="checkbox" id="cookieAnalytics" />
          Allow basic analytics & performance cookies
        </label>
        <br />
        <label class="tos-small">
          <input type="checkbox" id="cookieAds" />
          Allow advertising cookies (Google AdSense)
        </label>

        <p class="tos-small" style="margin-top: 8px;">
          You can change these settings at any time. Some ad features may not work
          if you disable advertising cookies.
        </p>

        <div style="margin-top: 12px; display:flex; gap:8px; justify-content:flex-end;">
          <button id="cookieSaveBtn" class="btn-primary" style="font-size:12px; padding:6px 14px;">Save preferences</button>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <h1>Roblox Rant Generator</h1>
    <div class="subtitle">
      Type Your Theme. Create Your Rant. Bye-Bye Noob.
    </div>

    <div class="ad-box">Ad Placeholder ‚Äî Top Banner</div>

    <!-- RANT CONTROLS -->
    <div class="panel">
      <label for="topicInput">Topic / Theme</label>
      <input
        id="topicInput"
        type="text"
        placeholder="e.g. school, laggy servers, strict parents, annoying friends, memes"
      />

      <label for="introSelect">Opening Line Style</label>
      <select id="introSelect">
        <option value="random">Random (let AI choose style)</option>
        <option value="I'm starting to realize...">I'm starting to realize...</option>
        <option value="Tell me why this keeps happening...">
          Tell me why this keeps happening...
        </option>
        <option value="Bro, don't even get me started...">
          Bro, don't even get me started...
        </option>
        <option value="Lately I've been noticing...">Lately I've been noticing...</option>
        <option value="You ever notice how...">You ever notice how...</option>
        <option value="Honestly, at this point...">Honestly, at this point...</option>
        <option value="Ain't no way this just happened...">
          Ain't no way this just happened...
        </option>
      </select>

      <label for="pasteInput">Paste Your Rant Script Here (optional)</label>
      <textarea
        id="pasteInput"
        placeholder="Paste any rant to rewrite, shuffle, or make more unique..."
      ></textarea>

      <label for="narratorSelect">Narrator Style</label>
      <select id="narratorSelect">
        <option value="male">Male Narrator</option>
        <option value="neutral">Gender-neutral Narrator</option>
        <option value="female">Female Narrator</option>
      </select>

      <div class="row">
        <div class="col">
          <div class="slider-label">Rant Meltdown</div>
          <input id="intensitySlider" type="range" min="1" max="4" value="2" />
          <div id="intensityLabel" class="slider-value">Cool / casual</div>
        </div>
        <div class="col">
          <div class="slider-label">
            Paragraphs <span id="paraCountLabel">(4)</span>
          </div>
          <input id="paragraphSlider" type="range" min="1" max="60" value="4" />
          <div class="slider-value">
            More paragraphs = longer script (approx. up to 60 seconds).
          </div>
        </div>
      </div>

      <div class="toggles">
        <label>
          <input id="includeSlang" type="checkbox" checked />
          Include slang
        </label>
        <label>
          <input id="softSwears" type="checkbox" />
          Allow swearing
        </label>
      </div>

      <div class="button-row">
        <button id="generateBtn" class="btn-primary">Generate Rant</button>
        <button id="rewriteBtn" class="btn-secondary">Rewrite</button>
        <button id="shuffleBtn" class="btn-secondary">Shuffle</button>
        <button id="uniqueBtn" class="btn-secondary">Make Unique</button>
        <button id="copyBtn" class="btn-secondary">
          Copy
          <span id="copyFlash" class="copy-flash">Copied!</span>
        </button>
      </div>
    </div>

    <div class="ad-box">Ad Placeholder ‚Äî Middle Banner</div>

    <!-- OUTPUT -->
    <div class="panel">
      <label for="output">Generated Rant Script</label>
      <textarea
        id="output"
        placeholder="Your rant will appear here. You can edit it before copying..."
      ></textarea>
    </div>

    <!-- API SETTINGS -->
    <div class="panel">
      <div id="apiHeader" class="api-header">
        <span>Groq API Key</span>
        <span id="apiChevron">‚ñº</span>
      </div>

      <div id="apiBody" class="api-body">
        <label for="apiKeyInput">Your Groq API key</label>
        <div class="api-row">
          <input
            id="apiKeyInput"
            type="password"
            placeholder="Paste your Groq API key here"
          />
          <button id="toggleKeyBtn" class="btn-secondary api-eye-btn" type="button"></button>
          <button id="saveKeyBtn" class="btn-secondary" type="button">Save</button>
          <button id="clearKeyBtn" class="btn-secondary" type="button">Clear</button>
        </div>

        <div id="apiStatus" class="api-status">No API key saved yet.</div>

        <div class="api-help">
          This app uses <strong>Groq</strong> to generate your rant scripts.<br />
          Your API key is stored only in your browser (local storage).<br />
          You can create a free key here:
        </div>

        <a
          class="groq-link-btn"
          href="https://console.groq.com/keys"
          target="_blank"
        >üëâ Get your Groq API key</a>
      </div>
    </div>

    <div class="ad-box">Ad Placeholder ‚Äî Footer Banner</div>
  </div>

  <!-- COOKIE BANNER -->
  <div id="cookieBanner" class="cookie-banner">
    <div class="cookie-text">
      This site uses cookies to keep things running, remember your settings, and help support ads.
    </div>
    <div class="cookie-actions">
      <button id="cookiePrefsBtn" class="cookie-link-btn">Cookie Preferences</button>
      <button id="cookieAcceptAllBtn" class="cookie-accept-btn">Accept</button>
    </div>
  </div>

  <script>
    /* THEME TOGGLE */
    const themeBtn = document.getElementById("themeModeBtn");
    function systemPrefersDark() {
      return window.matchMedia("(prefers-color-scheme: dark)").matches;
    }
    function applyTheme(mode) {
      document.body.classList.remove("light", "dark");
      document.body.classList.add(mode);
      localStorage.setItem("fsg-theme", mode);
      themeBtn.textContent = mode === "dark" ? "üåô Dark" : "‚òÄÔ∏è Light";
    }
    const savedTheme = localStorage.getItem("fsg-theme");
    if (savedTheme) applyTheme(savedTheme);
    else applyTheme(systemPrefersDark() ? "dark" : "light");
    themeBtn.addEventListener("click", () => {
      const newMode = document.body.classList.contains("dark")
        ? "light"
        : "dark";
      applyTheme(newMode);
      updateEyeIcon();
    });

    /* HOW TO USE MODAL */
    const howBtn = document.getElementById("howToBtn");
    const howModal = document.getElementById("howModal");
    const howClose = document.getElementById("howClose");

    function openHow() {
      howModal.classList.add("open");
    }
    function closeHow() {
      howModal.classList.remove("open");
    }
    howBtn.addEventListener("click", openHow);
    howClose.addEventListener("click", closeHow);
    howModal.addEventListener("click", (e) => {
      if (e.target === howModal) closeHow();
    });

    /* TERMS OF SERVICE MODAL */
    const tosBtn = document.getElementById("tosBtn");
    const tosModal = document.getElementById("tosModal");
    const tosClose = document.getElementById("tosClose");

    function openTos() {
      tosModal.classList.add("open");
    }
    function closeTos() {
      tosModal.classList.remove("open");
    }

    tosBtn.addEventListener("click", openTos);
    tosClose.addEventListener("click", closeTos);
    tosModal.addEventListener("click", (e) => {
      if (e.target === tosModal) closeTos();
    });

    /* PRIVACY POLICY MODAL */
    const privacyBtn = document.getElementById("privacyBtn");
    const privacyModal = document.getElementById("privacyModal");
    const privacyClose = document.getElementById("privacyClose");

    function openPrivacy() {
      privacyModal.classList.add("open");
    }
    function closePrivacy() {
      privacyModal.classList.remove("open");
    }

    privacyBtn.addEventListener("click", openPrivacy);
    privacyClose.addEventListener("click", closePrivacy);
    privacyModal.addEventListener("click", (e) => {
      if (e.target === privacyModal) closePrivacy();
    });

    /* COOKIE PREFERENCES MODAL */
    const cookieModal = document.getElementById("cookieModal");
    const cookieClose = document.getElementById("cookieClose");
    const cookieAnalytics = document.getElementById("cookieAnalytics");
    const cookieAds = document.getElementById("cookieAds");
    const cookieSaveBtn = document.getElementById("cookieSaveBtn");

    function openCookieModal() {
      cookieModal.classList.add("open");
    }
    function closeCookieModal() {
      cookieModal.classList.remove("open");
    }

    cookieClose.addEventListener("click", closeCookieModal);
    cookieModal.addEventListener("click", (e) => {
      if (e.target === cookieModal) closeCookieModal();
    });

    /* ESC TO CLOSE MODALS */
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        closeHow();
        closeTos();
        closePrivacy();
        closeCookieModal();
      }
    });

    /* HOME BUTTON TOAST */
    const homeBtn = document.getElementById("homeBtn");
    const homeToast = document.getElementById("homeToast");
    let homeToastTimeout = null;

    homeBtn.addEventListener("click", () => {
      if (homeToastTimeout) clearTimeout(homeToastTimeout);
      homeToast.classList.add("show");
      homeToastTimeout = setTimeout(() => {
        homeToast.classList.remove("show");
      }, 2000);
    });

    /* SLIDERS */
    const intensitySlider = document.getElementById("intensitySlider");
    const paragraphSlider = document.getElementById("paragraphSlider");
    const intensityLabel = document.getElementById("intensityLabel");
    const paraCountLabel = document.getElementById("paraCountLabel");

    function updateIntensityLabel() {
      const v = Number(intensitySlider.value);
      intensityLabel.textContent =
        v === 1
          ? "Very chill"
          : v === 2
          ? "Cool / casual"
          : v === 3
          ? "Heated rant"
          : "Full meltdown";
    }
    function updateParagraphLabel() {
      const v = Number(paragraphSlider.value);
      paraCountLabel.textContent = `(${v})`;
    }
    intensitySlider.addEventListener("input", updateIntensityLabel);
    paragraphSlider.addEventListener("input", updateParagraphLabel);
    updateIntensityLabel();
    updateParagraphLabel();

    /* COLLAPSIBLE API PANEL */
    const apiHeader = document.getElementById("apiHeader");
    const apiBody = document.getElementById("apiBody");
    const apiChevron = document.getElementById("apiChevron");
    apiHeader.addEventListener("click", () => {
      const open = apiBody.classList.toggle("open");
      apiChevron.textContent = open ? "‚ñ≤" : "‚ñº";
    });

    /* API KEY STORAGE (Groq only) */
    const apiKeyInput = document.getElementById("apiKeyInput");
    const apiStatus = document.getElementById("apiStatus");
    const saveKeyBtn = document.getElementById("saveKeyBtn");
    const clearKeyBtn = document.getElementById("clearKeyBtn");
    const toggleKeyBtn = document.getElementById("toggleKeyBtn");

    function showStatus(text, type) {
      apiStatus.textContent = text;
      apiStatus.className = "api-status " + (type || "");
    }
    function getApiKey() {
      return localStorage.getItem("fsg-user-api-key") || "";
    }

    // SVGs for light & dark mode
    const LIGHT_EYE =
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12.0003 3C17.3924 3 21.8784 6.87976 22.8189 12C21.8784 17.1202 17.3924 21 12.0003 21C6.60812 21 2.12215 17.1202 1.18164 12C2.12215 6.87976 6.60812 3 12.0003 3ZM12.0003 19C16.2359 19 19.8603 16.052 20.7777 12C19.8603 7.94803 16.2359 5 12.0003 5C7.7646 5 4.14022 7.94803 3.22278 12C4.14022 16.052 7.7646 19 12.0003 19ZM12.0003 16.5C9.51498 16.5 7.50026 14.4853 7.50026 12C7.50026 9.51472 9.51498 7.5 12.0003 7.5C14.4855 7.5 16.5003 9.51472 16.5003 12C16.5003 14.4853 14.4855 16.5 12.0003 16.5ZM12.0003 14.5C13.381 14.5 14.5003 13.3807 14.5003 12C14.5003 10.6193 13.381 9.5 12.0003 9.5C10.6196 9.5 9.50026 10.6193 9.50026 12C9.50026 13.3807 10.6196 14.5 12.0003 14.5Z"></path></svg>';

    const LIGHT_EYE_OFF =
      '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M17.8827 19.2968C16.1814 20.3755 14.1638 21.0002 12.0003 21.0002C6.60812 21.0002 2.12215 17.1204 1.18164 12.0002C1.61832 9.62282 2.81932 7.5129 4.52047 5.93457L1.39366 2.80777L2.80788 1.39355L22.6069 21.1925L21.1927 22.6068L17.8827 19.2968ZM5.9356 7.3497C4.60673 8.56015 3.6378 10.1672 3.22278 12.0002C4.14022 16.0521 7.7646 19.0002 12.0003 19.0002C13.5997 19.0002 15.112 18.5798 16.4243 17.8384L14.396 15.8101C13.7023 16.2472 12.8808 16.5002 12.0003 16.5002C9.51498 16.5002 7.50026 14.4854 7.50026 12.0002C7.50026 11.1196 7.75317 10.2981 8.19031 9.60442L5.9356 7.3497ZM12.9139 14.328L9.67246 11.0866C9.5613 11.3696 9.50026 11.6777 9.50026 12.0002C9.50026 13.3809 10.6196 14.5002 12.0003 14.5002C12.3227 14.5002 12.6309 14.4391 12.9139 14.328ZM20.8068 16.5925L19.376 15.1617C20.0319 14.2268 20.5154 13.1586 20.7777 12.0002C19.8603 7.94818 16.2359 5.00016 12.0003 5.00016C11.1544 5.00016 10.3329 5.11773 9.55249 5.33818L7.97446 3.76015C9.22127 3.26959 10.5793 3.00016 12.0003 3.00016C17.3924 3.00016 21.8784 6.87992 22.8189 12.0002C22.5067 13.6998 21.8038 15.2628 20.8068 16.5925ZM11.7229 7.50857C11.8146 7.50299 11.9071 7.50016 12.0003 7.50016C14.4855 7.50016 16.5003 9.51488 16.5003 12.0002C16.5003 12.0933 16.4974 12.1858 16.4919 12.2775L11.7229 7.50857Z"></path></svg>';

    const DARK_EYE =
      '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" /></svg>';

    const DARK_EYE_OFF =
      '<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88" /></svg>';

    function updateEyeIcon() {
      const isDark = document.body.classList.contains("dark");
      const isVisible = apiKeyInput.type === "text";
      if (isDark) {
        toggleKeyBtn.innerHTML = isVisible ? DARK_EYE_OFF : DARK_EYE;
      } else {
        toggleKeyBtn.innerHTML = isVisible ? LIGHT_EYE_OFF : LIGHT_EYE;
      }
    }

    // initialize API key field
    apiKeyInput.value = getApiKey();
    apiKeyInput.type = "password";
    updateEyeIcon();

    toggleKeyBtn.addEventListener("click", () => {
      apiKeyInput.type = apiKeyInput.type === "password" ? "text" : "password";
      updateEyeIcon();
    });

    saveKeyBtn.addEventListener("click", () => {
      const key = apiKeyInput.value.trim();
      if (!key) return showStatus("Please enter a key.", "err");
      localStorage.setItem("fsg-user-api-key", key);
      showStatus("API key saved.", "ok");
    });

    clearKeyBtn.addEventListener("click", () => {
      localStorage.removeItem("fsg-user-api-key");
      apiKeyInput.value = "";
      apiKeyInput.type = "password";
      updateEyeIcon();
      showStatus("API key cleared.", "err");
    });

    /* PROMPT BUILDER + AI CALL */
    const topicInput = document.getElementById("topicInput");
    const pasteInput = document.getElementById("pasteInput");
    const narratorSelect = document.getElementById("narratorSelect");
    const introSelect = document.getElementById("introSelect");
    const includeSlang = document.getElementById("includeSlang");
    const softSwears = document.getElementById("softSwears");
    const outputEl = document.getElementById("output");

    function buildPrompt(mode) {
      const topic = topicInput.value.trim();
      const pasted = pasteInput.value.trim();
      const intensity = Number(intensitySlider.value);
      const paragraphCount = Number(paragraphSlider.value);
      const narrator = narratorSelect.value;
      const slang = includeSlang.checked;
      const soft = softSwears.checked;
      const introChoice = introSelect.value;
      const currentOutput = outputEl.value.trim();

      const narrators = {
        male: "a male Roblox-style rant narrator",
        neutral: "a gender-neutral rant narrator",
        female: "a female narrator with a slightly sassy tone",
      };
      const intensities = [
        "very chill, low-energy commentary",
        "casual but energetic rant tone",
        "heated rant with more frustration",
        "full meltdown, dramatic but still PG-13",
      ];

      let openingBlock = "";
      const openingList = [
        "I'm starting to realize...",
        "Tell me why this keeps happening...",
        "Bro, don't even get me started...",
        "Lately I've been noticing...",
        "You ever notice how...",
        "Honestly, at this point...",
        "Ain't no way this just happened...",
      ];

      if (introChoice === "random") {
        openingBlock = `
OPENING LINE:
- Choose ONE natural-sounding opening line that fits the topic and tone.
- You can choose from lines like: "${openingList.join(
          '" , "'
        )}" or a very similar variant.
- Do NOT use multiple different openings, only one.`;
      } else {
        openingBlock = `
OPENING LINE:
- Start the script with this exact text (then continue the rant): "${introChoice}"`;
      }

      let swearsBlock = "";
      if (soft) {
        swearsBlock = `
SWEARING:
- Mild PG-13 swears are allowed, like: "crap", "damn", "freaking", "heck", "hell".
- Never use extreme profanity such as the f-word, s-word, or any slurs.`;
      } else {
        swearsBlock = `
SWEARING:
- Do NOT use any swear words at all. Keep the language clean and YouTube-safe.`;
      }

      const styleBlock = `
VOICE: ${narrators[narrator]}
RANT MELTDOWN: ${intensities[intensity - 1]}
PARAGRAPHS: write about ${paragraphCount} short paragraphs (each 1‚Äì3 sentences).
SLANG: ${
        slang
          ? "Use slang naturally when it fits the topic."
          : "Use almost no slang. Keep it simple and clear."
      }
${swearsBlock}
${openingBlock}

STYLE REFERENCES (for vibe / pacing only, never copy scripts):
- @kittyrantsroblox
- @burpster
- @RoRants
- @SillyWIllyRants
- @AngelCatBlox
- @natetriggerRants
- @PR3SIDNT
- @feyzeYT
- @PenguinRants
`;

      const baseInstructions = `
You are writing a viral-style rant script for a short-form video (TikTok / YouTube Shorts) over Roblox or meme gameplay.

Rules:
* Use a strong opening line (as described above), then flow straight into the rant.
* Tone: fast-paced, natural, like someone venting to the camera.
* Style: short sentences, humor, irony, rhythm, and strong hooks.
* Content: focus on something funny, relatable, or painfully true.
* Build-up: gradually increase frustration or emotion.
* Ending: finish with a funny or self-aware twist that feels satisfying.
* No emojis, no hashtags, no AI disclaimers.
* Everything must be original. Do not copy lines from any existing videos or channels.
`;

      let task = "";
      const baseTopic =
        topic || "a painfully relatable real-life situation or annoyance";

      if (mode === "generate") {
        task = `Write one viral-style rant script about: "${baseTopic}".`;
      } else if (mode === "rewrite") {
        task = `Rewrite the following rant into a stronger, more viral script, keeping the same main idea and emotion:\n"""${
          pasted || currentOutput
        }"""`;
      } else if (mode === "shuffle") {
        task = `Using the same general idea and topic, create a different rant script variation.\nIf there is text below, treat it as the previous version and make a new one that feels fresh but stays on the same core topic:\n"""${
          pasted || currentOutput || baseTopic
        }"""`;
      } else if (mode === "unique") {
        task = `Take the following rant script and make a unique version of it. Keep the core topic but change the wording, pacing, and jokes so it feels fresh and different:\n"""${
          pasted || currentOutput
        }"""`;
      }

      return baseInstructions + styleBlock + "\n" + task;
    }

    async function callAI(prompt) {
      const apiKey = getApiKey();

      if (!apiKey) {
        showStatus("Add your Groq API key first.", "err");
        throw new Error("Missing key");
      }

      showStatus("Contacting Groq‚Ä¶", "");

      const res = await fetch(
        "https://faceless-rant-proxy.bouncingstephen.workers.dev/",
        {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ apiKey, prompt }),
        }
      );

      const data = await res.json().catch(() => null);

      if (!res.ok) {
        let detail = "";
        if (data && data.detail) {
          detail =
            typeof data.detail === "string"
              ? data.detail
              : JSON.stringify(data.detail);
        }
        showStatus(
          `Error ${res.status} ‚Äì ${detail || "see console"}`,
          "err"
        );
        console.error("AI error", data);
        throw new Error("AI request failed");
      }

      showStatus("AI response received.", "ok");

      return data?.choices?.[0]?.message?.content || "(No response)";
    }

    const generateBtn = document.getElementById("generateBtn");
    const rewriteBtn = document.getElementById("rewriteBtn");
    const shuffleBtn = document.getElementById("shuffleBtn");
    const uniqueBtn = document.getElementById("uniqueBtn");
    const copyBtn = document.getElementById("copyBtn");
    const copyFlash = document.getElementById("copyFlash");

    async function run(mode) {
      try {
        const prompt = buildPrompt(mode);
        const text = await callAI(prompt);
        outputEl.value = text;
      } catch (err) {
        console.error(err);
      }
    }

    generateBtn.onclick = () => run("generate");
    rewriteBtn.onclick = () => run("rewrite");
    shuffleBtn.onclick = () => run("shuffle");
    uniqueBtn.onclick = () => run("unique");

    copyBtn.onclick = () => {
      const txt = outputEl.value || "";
      if (!txt.trim()) return;
      navigator.clipboard.writeText(txt).then(
        () => {
          copyFlash.classList.add("visible");
          copyBtn.disabled = true;
          setTimeout(() => {
            copyFlash.classList.remove("visible");
            copyBtn.disabled = false;
          }, 1200);
        },
        () => {}
      );
    };

    /* COOKIE CONSENT LOGIC */
    const cookieBanner = document.getElementById("cookieBanner");
    const cookieAcceptAllBtn = document.getElementById("cookieAcceptAllBtn");
    const cookiePrefsBtn = document.getElementById("cookiePrefsBtn");
    const COOKIE_KEY = "fsg-cookie-consent";

    function getCookiePrefs() {
      try {
        const raw = localStorage.getItem(COOKIE_KEY);
        return raw ? JSON.parse(raw) : null;
      } catch {
        return null;
      }
    }

    function saveCookiePrefs(prefs) {
      localStorage.setItem(COOKIE_KEY, JSON.stringify(prefs));
    }

    function applyCookieUIFromPrefs(prefs) {
      // set checkboxes in modal
      cookieAnalytics.checked = !!prefs.analytics;
      cookieAds.checked = !!prefs.ads;
    }

    function maybeShowCookieBanner() {
      const prefs = getCookiePrefs();
      if (!prefs) {
        cookieBanner.classList.add("show");
      } else {
        applyCookieUIFromPrefs(prefs);
      }
    }

    // Accept all from banner
    cookieAcceptAllBtn.addEventListener("click", () => {
      const prefs = {
        necessary: true,
        analytics: true,
        ads: true,
        timestamp: Date.now(),
      };
      saveCookiePrefs(prefs);
      applyCookieUIFromPrefs(prefs);
      cookieBanner.classList.remove("show");
    });

    // Open preferences modal
    cookiePrefsBtn.addEventListener("click", () => {
      const prefs = getCookiePrefs() || {
        necessary: true,
        analytics: false,
        ads: false,
      };
      applyCookieUIFromPrefs(prefs);
      openCookieModal();
    });

    // Save preferences from modal
    cookieSaveBtn.addEventListener("click", () => {
      const prefs = {
        necessary: true,
        analytics: cookieAnalytics.checked,
        ads: cookieAds.checked,
        timestamp: Date.now(),
      };
      saveCookiePrefs(prefs);
      cookieBanner.classList.remove("show");
      closeCookieModal();
    });

    // On first load
    maybeShowCookieBanner();
  </script>
</body>
</html>
