<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Faceless Script Generator ‚Äì Roblox Rant</title>

  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6610889405997257" crossorigin="anonymous"></script>

  <!-- Google Search Console -->
  <meta name="google-site-verification" content="FSjAX-8iMppXgSzcWB-IpDSVZdqr8F2_H61BSxneciE" />

  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;700&display=swap" rel="stylesheet" />

  <style>
    :root {
      --primary: #39ff14;
      --primary-glow: rgba(57,255,20,0.5);

      --bg-light: #ffffff;
      --bg-dark: #050712;

      --text-light: #0d0d0d;
      --text-dark: #f5f7ff;

      --border-light: #d0d0dd;
      --border-dark: #262a3b;

      --card-light: #ffffff;
      --card-dark: #111527;

      --topbar-bg-light: #f7f7f9;
      --topbar-bg-dark: #050712;
    }

    body.light {
      background: var(--bg-light);
      color: var(--text-light);
    }

    body.dark {
      background: var(--bg-dark);
      color: var(--text-dark);
    }

    body {
      margin: 0;
      padding: 0;
      font-family: "Rubik", sans-serif;
      transition: background 0.25s ease, color 0.25s ease;
    }

    /* ---------- TOP BAR ---------- */
    .top-bar {
      display: grid;
      grid-template-columns: auto 1fr auto;
      align-items: center;
      padding: 8px 16px;
      border-bottom: 1px solid var(--border-light);
      background: var(--topbar-bg-light);
      position: sticky;
      top: 0;
      z-index: 50;
    }
    body.dark .top-bar {
      background: var(--topbar-bg-dark);
      border-bottom-color: var(--border-dark);
    }

    .top-left,
    .top-center,
    .top-right {
      display: flex;
      align-items: center;
    }

    .top-center {
      justify-content: center;
      gap: 10px;
    }

    /* ---------- ICON BUTTONS ---------- */
    .home-btn,
    .settings-btn {
      border-radius: 999px;
      border: 1px solid var(--border-light);
      background: #f6f6f6;
      padding: 6px 10px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: 0.2s ease;
    }
    body.dark .home-btn,
    body.dark .settings-btn {
      background: #14182a;
      border-color: var(--border-dark);
      color: #f5f7ff;
    }

    .home-btn:hover,
    .settings-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 6px var(--primary-glow);
    }

    .settings-btn svg {
      width: 18px;
      height: 18px;
    }

    /* ---------- GENERAL BUTTONS ---------- */
    .theme-mode-btn,
    .how-btn {
      padding: 6px 14px;
      border-radius: 20px;
      border: 1px solid var(--border-light);
      background: #f6f6f6;
      font-size: 14px;
      cursor: pointer;
      transition: 0.2s ease;
    }
    body.dark .theme-mode-btn,
    body.dark .how-btn {
      background: #14182a;
      color: #f5f7ff;
      border-color: var(--border-dark);
    }

    .theme-mode-btn:hover,
    .how-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 6px var(--primary-glow);
    }

    /* ---------- DISCORD PILL ---------- */
    .top-discord-link {
      padding: 6px 14px;
      border-radius: 20px;
      border: 1px solid var(--border-light);
      background: #f6f6f6;
      font-size: 14px;
      font-weight: 500;
      text-decoration: none;
      color: inherit;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: 0.25s ease;
    }
    body.dark .top-discord-link {
      background: #14182a;
      border-color: var(--border-dark);
      color: #f5f7ff;
    }
    .top-discord-link:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 6px var(--primary-glow);
    }

    /* ---------- CONTAINER ---------- */
    .container {
      max-width: 900px;
      margin: 24px auto 40px;
      padding: 0 16px;
    }

    h1 {
      text-align: center;
      color: var(--primary);
      margin-bottom: 4px;
      font-size: 32px;
      text-shadow: 0 0 8px var(--primary-glow);
    }

    .subtitle {
      text-align: center;
      font-size: 14px;
      opacity: 0.8;
      margin-bottom: 18px;
    }

    /* ---------- SHARE BAR ---------- */
    .share-bar {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
      font-size: 13px;
      margin-bottom: 20px;
    }

    .share-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      border-radius: 99px;
      padding: 6px 14px;
      cursor: pointer;
      border: 1px solid var(--border-light);
      background: #f6f6f6;
      transition: 0.2s ease;
      font-weight: 500;
    }
    body.dark .share-pill {
      background: #111527;
      border-color: var(--border-dark);
      color: #f5f7ff;
    }
    .share-pill:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 6px var(--primary-glow);
    }

    /* ---------- PANELS ---------- */
    .panel {
      background: var(--card-light);
      border: 1px solid var(--border-light);
      border-radius: 14px;
      padding: 20px;
      margin-bottom: 22px;
      box-shadow: 0 8px 18px rgba(0,0,0,0.06);
    }
    body.dark .panel {
      background: var(--card-dark);
      border-color: var(--border-dark);
      box-shadow: 0 10px 26px rgba(0,0,0,0.7);
    }

    label {
      font-weight: 600;
      margin-bottom: 6px;
      display: block;
      font-size: 14px;
    }

    /* ---------- INPUTS ---------- */
    input[type="text"],
    textarea,
    select {
      width: 100%;
      padding: 10px 12px;
      border-radius: 8px;
      border: 1px solid var(--border-light);
      color: inherit;
      background: transparent;
      font-size: 14px;
      margin-bottom: 14px;
      outline: none;
      box-sizing: border-box;
    }

    body.dark input[type=text],
    body.dark textarea,
    body.dark select {
      background: #050712;
      border-color: var(--border-dark);
      color: #f5f7ff;
    }

    input:focus,
    textarea:focus,
    select:focus {
      border-color: var(--primary);
      box-shadow: 0 0 8px var(--primary-glow);
    }

    textarea {
      min-height: 80px;
      resize: vertical;
    }

    /* ===========================================================
       LANGUAGE DROPDOWN (LIGHT-MODE FIXED + GREEN GLOW)
       =========================================================== */

    .language-wrapper {
      position: relative;
      width: 220px;
    }

    .cd-trigger {
      width: 100%;
      padding: 9px 12px;
      border-radius: 8px;
      border: 1px solid var(--border-light);
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 14px;
      background: #f7f7f9;
      color: #0d0d0d;
      transition: 0.2s;
    }
    body.dark .cd-trigger {
      background: #050712;
      color: #f5f7ff;
      border-color: var(--border-dark);
    }

    .cd-trigger:focus-visible {
      border-color: var(--primary);
      box-shadow: 0 0 8px var(--primary-glow);
      outline: none;
    }

    /* ---------- MENU ---------- */
    .cd-menu {
      position: absolute;
      top: calc(100% + 4px);
      width: 100%;
      border-radius: 10px;
      overflow: hidden;
      display: none;
      z-index: 20;
      background: #ffffff;  /* FIXED */
      border: 1px solid #d0d0dd;
      box-shadow: 0 12px 30px rgba(0,0,0,0.12);
    }
    body.dark .cd-menu {
      background: #050712;
      border-color: var(--border-dark);
      box-shadow: 0 18px 40px rgba(0,0,0,0.7);
    }

    .cd-menu.open {
      display: block;
    }

    /* ---------- SEARCH FIELD ---------- */
    .cd-search-wrap {
      padding: 8px;
      border-bottom: 1px solid #e3e3ea;
    }
    body.dark .cd-search-wrap {
      border-bottom-color: #1f2433;
    }

    .cd-search-input {
      width: 100%;
      padding: 6px 10px;
      border-radius: 6px;
      border: 1px solid #d0d0dd;
      background: #ffffff;
      color: #0d0d0d;
      font-size: 13px;
      outline: none;
    }
    body.dark .cd-search-input {
      background: #050712;
      border-color: #1f2433;
      color: #f5f7ff;
    }

    .cd-search-input:focus {
      border-color: var(--primary);
      box-shadow: 0 0 6px var(--primary-glow);
    }

    .cd-search-icon {
      position: absolute;
      right: 18px;
      top: 50%;
      transform: translateY(-50%);
      opacity: 0.6;
      pointer-events: none;
    }

    /* ---------- OPTIONS ---------- */
    .cd-options {
      max-height: 230px;
      overflow-y: auto;
    }

    .cd-option {
      width: 100%;
      padding: 9px 12px;
      background: transparent;
      text-align: left;
      border: none;
      cursor: pointer;
      font-size: 14px;
      color: #0d0d0d;
      transition: 0.15s;
    }
    body.dark .cd-option {
      color: #f5f7ff;
    }

    .cd-option:hover {
      background: #f5f5f7;
    }
    body.dark .cd-option:hover {
      background: #1e293b;
    }

    .cd-option.selected {
      background: #ececf1;
      font-weight: 500;
    }
    body.dark .cd-option.selected {
      background: #0b1120;
    }
    /* ---------- SCROLLBAR ---------- */
    .cd-options::-webkit-scrollbar {
      width: 8px;
    }
    .cd-options::-webkit-scrollbar-thumb {
      background: #d0d0dd;
      border-radius: 4px;
    }
    body.dark .cd-options::-webkit-scrollbar-thumb {
      background: #2a2d3a;
    }

    /* ---------- SLIDERS ---------- */
    input[type="range"] {
      width: 100%;
      margin: 8px 0 14px;
      cursor: pointer;
    }

    .slider-value {
      margin-top: -7px;
      font-size: 13px;
      opacity: 0.8;
      margin-bottom: 12px;
    }

    /* ---------- TOGGLES ---------- */
    .toggles label {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
      margin-bottom: 8px;
      cursor: pointer;
    }

    /* ---------- BUTTON ROW ---------- */
    .button-row {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-top: 6px;
    }

    .btn-primary,
    .btn-secondary {
      border-radius: 10px;
      padding: 10px 16px;
      cursor: pointer;
      border: 1px solid transparent;
      font-size: 14px;
      font-weight: 600;
      transition: 0.2s ease;
    }

    .btn-primary {
      background: var(--primary);
      color: #0d0d0d;
      border-color: var(--primary);
      box-shadow: 0 0 8px var(--primary-glow);
    }
    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 12px var(--primary-glow);
    }

    .btn-secondary {
      background: #f6f6f6;
      border-color: var(--border-light);
    }
    body.dark .btn-secondary {
      background: #14182a;
      border-color: var(--border-dark);
      color: #f5f7ff;
    }
    .btn-secondary:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 6px var(--primary-glow);
    }

    .copy-flash {
      opacity: 0;
      font-size: 12px;
      margin-left: 6px;
      transition: 0.3s ease;
    }

    .copy-flash.show {
      opacity: 1;
    }

    /* ---------- ADS ---------- */
    .ad-box {
      height: 120px;
      border: 2px dashed var(--border-light);
      border-radius: 12px;
      margin: 22px 0;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 14px;
      opacity: 0.7;
    }
    body.dark .ad-box {
      border-color: var(--border-dark);
    }

    /* ---------- FOOTER ---------- */
    .footer {
      text-align: center;
      padding: 20px 0 30px;
      font-size: 13px;
      opacity: 0.8;
    }

    /* ---------- COOKIE BANNER ---------- */
    .cookie-banner {
      position: fixed;
      bottom: 0;
      width: 100%;
      background: #ffffff;
      padding: 14px 18px;
      border-top: 1px solid var(--border-light);
      display: none;
      justify-content: space-between;
      align-items: center;
      z-index: 90;
    }
    body.dark .cookie-banner {
      background: #111527;
      border-top-color: var(--border-dark);
      color: #f5f7ff;
    }

    .cookie-actions {
      display: flex;
      gap: 10px;
    }

    .cookie-link-btn {
      background: transparent;
      border: none;
      font-size: 14px;
      cursor: pointer;
      color: var(--primary);
    }

    .cookie-accept-btn {
      background: var(--primary);
      border: 1px solid var(--primary);
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      color: #0d0d0d;
    }

    /* ---------- MODALS ---------- */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.65);
      display: none;
      justify-content: center;
      align-items: center;
      padding: 20px;
      z-index: 100;
    }

    .modal {
      width: 100%;
      max-width: 520px;
      background: var(--card-light);
      border: 1px solid var(--border-light);
      border-radius: 14px;
      padding: 18px 22px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.2);
      max-height: 85vh;
      overflow-y: auto;
    }
    body.dark .modal {
      background: var(--card-dark);
      border-color: var(--border-dark);
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .modal-title {
      font-size: 18px;
      font-weight: 700;
    }

    .modal-close {
      border-radius: 8px;
      padding: 6px 12px;
      border: 1px solid var(--border-light);
      background: #f6f6f6;
      cursor: pointer;
      transition: 0.2s;
      font-weight: 500;
    }
    body.dark .modal-close {
      background: #14182a;
      border-color: var(--border-dark);
      color: #f5f7ff;
    }
    .modal-close:hover {
      box-shadow: 0 0 6px var(--primary-glow);
    }

    .tos-small {
      font-size: 14px;
      line-height: 1.5;
    }

    .tos-section-title {
      margin-top: 14px;
      font-weight: 600;
      font-size: 15px;
    }

    /* ---------- API MODAL ---------- */
    .api-row {
      display: flex;
      gap: 8px;
      align-items: center;
      margin-bottom: 12px;
    }

    .api-status {
      font-size: 13px;
      opacity: 0.8;
      margin-bottom: 14px;
    }

    .groq-link-btn {
      display: inline-block;
      text-decoration: none;
      padding: 8px 14px;
      background: var(--primary);
      color: #0d0d0d;
      border-radius: 8px;
      font-weight: 600;
      box-shadow: 0 0 6px var(--primary-glow);
    }
  </style>
</head>

<body class="light">
  <!-- TOP BAR -->
  <div class="top-bar">
    <div class="top-left">
      <button id="homeBtn" class="home-btn" title="Home">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 3 3 10h2v9h5v-5h4v5h5v-9h2L12 3z" fill="currentColor"/>
        </svg>
      </button>
    </div>

    <div class="top-center">
      <button id="themeModeBtn" class="theme-mode-btn">üåô Dark</button>
      <button id="howToBtn" class="how-btn">How to Use</button>
      <button id="tosBtn" class="how-btn">Terms of Service</button>
      <button id="privacyBtn" class="how-btn">Privacy Policy</button>

      <a href="https://discord.gg/Y4GenJXgEn"
         class="top-discord-link"
         target="_blank"
         rel="noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
          <path fill="#5865F2" d="M13.545 2.907a13.2 13.2 0 0 0-3.257-1.011..."/>
        </svg>
        <span>Discord</span>
      </a>
    </div>

    <div class="top-right">
      <button id="settingsBtn" class="settings-btn" title="Settings">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path d="M8.68637 4.00008L11.293 1.39348C11.6835 1.00295 12.3167 1.00295..."/>
        </svg>
      </button>
    </div>
  </div>

  <!-- HOME TOAST -->
  <div id="homeToast" class="home-toast">More faceless generators coming soon.</div>


  <!-- HOW TO USE MODAL -->
  <div id="howModal" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">How to Use the Roblox Rant Generator</div>
        <button id="howClose" class="modal-close">Close</button>
      </div>

      <div class="modal-body">
        <ol>
          <li><strong>Type a Topic / Theme</strong> (e.g., ‚Äúschool‚Äù, ‚Äústrict parents‚Äù, etc.).</li>
          <li><strong>Pick an opening style</strong> (Random, Custom, Throwback, Template).</li>
          <li><strong>Set rant meltdown</strong> intensity.</li>
          <li><strong>Select paragraphs</strong> (1‚Äì60).</li>
          <li><strong>Choose narrator</strong> voice.</li>
          <li><strong>Select Language</strong> through the dropdown.</li>
          <li><strong>Optional:</strong> Paste a rant to rewrite.</li>
          <li><strong>Similarity slider</strong> adjusts closeness to pasted script.</li>
          <li>Click <strong>Generate</strong>, <strong>Shuffle</strong>, or <strong>Make Unique</strong>.</li>
          <li>Copy your final rant using the <strong>Copy</strong> button.</li>
        </ol>
      </div>
    </div>
  </div>


  <!-- TERMS OF SERVICE MODAL -->
  <div id="tosModal" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">Terms of Service</div>
        <button id="tosClose" class="modal-close">Close</button>
      </div>

      <div class="modal-body">
        <p class="tos-small">Last updated: 29 November 2025</p>

        <p>Welcome to the <strong>Roblox Rant Generator</strong>. By using this site, you agree to these Terms.</p>

        <p class="tos-section-title">1. No affiliation with Roblox</p>
        <p>This tool is NOT official Roblox software and is not endorsed by Roblox Corporation.</p>

        <p class="tos-section-title">2. Purpose of the site</p>
        <p>This tool generates AI rant scripts for entertainment.</p>

        <p class="tos-section-title">3. Acceptable use</p>
        <ul class="tos-small">
          <li>No harassment or illegal content.</li>
          <li>No impersonation of Roblox staff.</li>
          <li>You are responsible for how you use generated scripts.</li>
        </ul>

        <p class="tos-section-title">4. AI content</p>
        <p>AI outputs may contain mistakes.</p>

        <p class="tos-section-title">5. Liability</p>
        <p class="tos-small">We are not responsible for content issues or demonetization.</p>

        <p class="tos-section-title">6. Updates</p>
        <p class="tos-small">Features may change anytime.</p>

        <p class="tos-section-title">7. Contact</p>
        <p class="tos-small">Email: <strong>contact@viral-script-ai.com</strong></p>
      </div>
    </div>
  </div>


  <!-- PRIVACY POLICY MODAL -->
  <div id="privacyModal" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">Privacy Policy</div>
        <button id="privacyClose" class="modal-close">Close</button>
      </div>

      <div class="modal-body">
        <p class="tos-small">Last updated: 29 November 2025</p>

        <p>This Privacy Policy explains how the Roblox Rant Generator handles information.</p>

        <p class="tos-section-title">1. Information we collect</p>
        <ul class="tos-small">
          <li>Basic analytics</li>
          <li>Cookies for theme, ads, and preferences</li>
        </ul>

        <p class="tos-section-title">2. API key storage</p>
        <p class="tos-small">Your Groq API key is stored locally in your browser only.</p>

        <p class="tos-section-title">3. Cookies & ads</p>
        <p class="tos-small">We use cookies for preferences and AdSense.</p>

        <p class="tos-section-title">4. Third-party links</p>
        <p class="tos-small">External links (Discord, docs) are not covered.</p>

        <p class="tos-section-title">5. Your choices</p>
        <ul class="tos-small">
          <li>Clear cookies anytime.</li>
          <li>Disable analytics or ad cookies.</li>
        </ul>

        <p class="tos-section-title">6. Contact</p>
        <p class="tos-small">Email: <strong>contact@viral-script-ai.com</strong></p>
      </div>
    </div>
  </div>


  <!-- COOKIE PREFERENCES MODAL -->
  <div id="cookieModal" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">Cookie Preferences</div>
        <button id="cookieClose" class="modal-close">Close</button>
      </div>

      <div class="modal-body">
        <p class="tos-small">We use cookies to keep this site working properly.</p>

        <p class="tos-section-title">Essential Cookies</p>
        <p class="tos-small">Always enabled.</p>

        <p class="tos-section-title">Optional Cookies</p>

        <label class="tos-small">
          <input type="checkbox" id="cookieAnalytics" /> Allow analytics cookies
        </label>

        <label class="tos-small">
          <input type="checkbox" id="cookieAds" /> Allow advertising cookies
        </label>

        <div style="margin-top:12px; display:flex; justify-content:flex-end;">
          <button id="cookieSaveBtn" class="btn-primary" style="font-size:12px;">Save</button>
        </div>
      </div>
    </div>
  </div>


  <!-- API KEY MODAL -->
  <div id="apiModal" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">Groq API Key</div>
        <button id="apiClose" class="modal-close">Close</button>
      </div>

      <div class="modal-body">
        <label>Your Groq API Key</label>

        <div class="api-row">
          <input id="apiKeyInput" type="password" placeholder="Paste your API key..." />
          <button id="toggleKeyBtn" class="btn-secondary api-eye-btn"></button>
          <button id="saveKeyBtn" class="btn-secondary">Save Key</button>
          <button id="clearKeyBtn" class="btn-secondary">Clear</button>
        </div>

        <div id="apiStatus" class="api-status">No API key saved yet.</div>

        <p class="api-help">Your API key stays only in your browser.</p>

        <a class="groq-link-btn" href="https://console.groq.com/keys" target="_blank">üëâ Get your Groq API key</a>
      </div>
    </div>
  </div>


  <!-- MAIN CONTAINER -->
  <div class="container">
    <h1>Roblox Rant Generator</h1>
    <div class="subtitle">Type Your Theme. Create Your Rant. Bye-Bye Noob.</div>

    <!-- SHARE BAR -->
    <div class="share-bar">
      <span class="share-label">Share This Free Tool:</span>

      <div class="share-pills">
        <button class="share-pill" data-network="facebook">
          <span class="share-pill-icon">f</span> Facebook
        </button>

        <button class="share-pill" data-network="pinterest">
          <span class="share-pill-icon">P</span> Pinterest
        </button>

        <button class="share-pill" data-network="reddit">
          <span class="share-pill-icon">R</span> Reddit
        </button>

        <button class="share-pill" data-network="copy">
          <span class="share-pill-icon">‚ßâ</span> Copy Link
        </button>
      </div>
    </div>

    <div class="ad-box">Ad Placeholder ‚Äî Top Banner</div>


    <!-- PANEL -->
    <div class="panel">
      <label>Topic / Theme</label>
      <input id="topicInput" type="text" placeholder="school, lag, strict parents‚Ä¶" />

      <label>Opening Line Style</label>
      <select id="introSelect">
        <option value="random">Random</option>
        <option value="custom">Custom Intro</option>
        <option value="throwback">Throwback</option>
        <option value="I'm starting to realize...">I'm starting to realize...</option>
        <option value="Bro, don't even get me started...">Bro, don't even get me started...</option>
      </select>

      <input id="customIntroInput" type="text" placeholder="Write your intro‚Ä¶" />

      <label>Paste Rant (optional)</label>
      <textarea id="pasteInput"></textarea>

      <label>Similarity Level</label>
      <input id="similaritySlider" type="range" min="1" max="3" value="2" />
      <div id="similarityLabel" class="slider-value">Balanced</div>

      <label>Narrator Style</label>
      <select id="narratorSelect">
        <option value="male">Male</option>
        <option value="neutral">Gender-neutral</option>
        <option value="female">Female</option>
      </select>


      <!-- üî• UPDATED LANGUAGE DROPDOWN (LIGHT + DARK MATCH UI PROPERLY) -->
      <label>Language</label>

      <div class="language-wrapper" id="languageWrapper">
        <button id="languageDropdown" class="cd-trigger">
          <span id="languageSelected" class="cd-trigger-label">English</span>
          <span class="cd-chevron">‚ñæ</span>
        </button>

        <div id="languageMenu" class="cd-menu">
          <div class="cd-search-wrap">
            <input id="languageSearch" class="cd-search-input" type="text" placeholder="Search..." />
            <span class="cd-search-icon">üîç</span>
          </div>

          <div id="languageOptions" class="cd-options"></div>
        </div>
      </div>

      <input type="hidden" id="languageSelect" value="English" />

      <label>Rant Meltdown</label>
      <input id="intensitySlider" type="range" min="1" max="4" value="2" />
      <div id="intensityLabel" class="slider-value">Cool / casual</div>

      <label>Paragraphs <span id="paraCountLabel">(4)</span></label>
      <input id="paragraphSlider" type="range" min="1" max="60" value="4" />

      <div class="toggles">
        <label><input id="includeSlang" type="checkbox" checked /> Include slang</label>
        <label><input id="softSwears" type="checkbox" /> Allow swearing</label>
      </div>

      <div class="button-row">
        <button id="generateBtn" class="btn-primary">Generate Rant</button>
        <button id="shuffleBtn" class="btn-secondary">Shuffle</button>
        <button id="uniqueBtn" class="btn-secondary">Make Unique</button>

        <button id="copyBtn" class="btn-secondary">
          Copy <span id="copyFlash" class="copy-flash">Copied!</span>
        </button>
      </div>
    </div>

    <div class="ad-box">Ad Placeholder ‚Äî Middle Banner</div>

    <div class="panel">
      <label>Generated Rant Script</label>
      <textarea id="output"></textarea>
    </div>

    <div class="ad-box">Ad Placeholder ‚Äî Footer Banner</div>
  </div>


  <!-- COOKIE BANNER -->
  <div id="cookieBanner" class="cookie-banner">
    <div class="cookie-text">This site uses cookies for preferences, ads, and analytics.</div>

    <div class="cookie-actions">
      <button id="cookiePrefsBtn" class="cookie-link-btn">Cookie Settings</button>
      <button id="cookieAcceptAllBtn" class="cookie-accept-btn">Accept</button>
    </div>
  </div>

  <div class="footer">
    <span>Email:</span>
    <a href="mailto:contact@viral-script-ai.com">contact@viral-script-ai.com</a>
  </div>
  <!-- =========================== -->
  <!-- JAVASCRIPT SECTION          -->
  <!-- =========================== -->
  <script>
    /* -----------------------------
       THEME SWITCHING (LIGHT / DARK)
    ----------------------------- */
    const themeBtn = document.getElementById("themeModeBtn");
    const body = document.body;

    function applyThemeMode(mode) {
      body.classList.remove("light", "dark");
      body.classList.add(mode);
      // Button label matches your UI:
      // Light mode shows üåô Dark (suggested action)
      // Dark mode shows ‚òÄÔ∏è Light
      themeBtn.textContent = mode === "dark" ? "‚òÄÔ∏è Light" : "üåô Dark";
      localStorage.setItem("themeMode", mode);
    }

    const savedMode = localStorage.getItem("themeMode") || "light";
    applyThemeMode(savedMode);

    themeBtn.addEventListener("click", () => {
      const newMode = body.classList.contains("light") ? "dark" : "light";
      applyThemeMode(newMode);
    });


    /* -----------------------------
       LANGUAGE DROPDOWN LOGIC
       (THEME-AWARE + SEARCH)
    ----------------------------- */
    const languages = [
      "English", "Spanish", "German", "French", "Italian", "Portuguese", "Dutch",
      "Polish", "Swedish", "Norwegian", "Finnish", "Danish", "Russian", "Turkish",
      "Arabic", "Hindi", "Korean", "Japanese", "Chinese (Simplified)", "Chinese (Traditional)"
    ];

    const languageWrapper   = document.getElementById("languageWrapper");
    const languageDropdown  = document.getElementById("languageDropdown");
    const languageMenu      = document.getElementById("languageMenu");
    const languageOptions   = document.getElementById("languageOptions");
    const languageSelected  = document.getElementById("languageSelected");
    const languageHidden    = document.getElementById("languageSelect");
    const languageSearch    = document.getElementById("languageSearch");

    function buildLanguageList(filter = "") {
      languageOptions.innerHTML = "";

      languages
        .filter(lang => lang.toLowerCase().includes(filter.toLowerCase()))
        .forEach(lang => {
          const btn = document.createElement("button");
          btn.className = "cd-option";
          btn.type = "button";
          btn.textContent = lang;

          if (lang === languageHidden.value) {
            btn.classList.add("selected");
          }

          btn.addEventListener("click", () => {
            languageHidden.value = lang;
            languageSelected.textContent = lang;
            languageMenu.classList.remove("open");
          });

          languageOptions.appendChild(btn);
        });
    }

    buildLanguageList();

    languageDropdown.addEventListener("click", () => {
      const isOpen = languageMenu.classList.toggle("open");
      if (isOpen) {
        languageSearch.value = "";
        buildLanguageList();
        languageSearch.focus();
      }
    });

    languageSearch.addEventListener("input", (e) => {
      buildLanguageList(e.target.value);
    });

    // Close dropdown when clicking outside
    document.addEventListener("click", (e) => {
      if (!languageWrapper.contains(e.target)) {
        languageMenu.classList.remove("open");
      }
    });


    /* -----------------------------
       COOKIE BANNER + PREFERENCES
    ----------------------------- */
    const cookieBanner      = document.getElementById("cookieBanner");
    const cookieAcceptAll   = document.getElementById("cookieAcceptAllBtn");
    const cookiePrefsBtn    = document.getElementById("cookiePrefsBtn");
    const cookieModal       = document.getElementById("cookieModal");
    const cookieClose       = document.getElementById("cookieClose");
    const cookieSaveBtn     = document.getElementById("cookieSaveBtn");
    const cookieAnalytics   = document.getElementById("cookieAnalytics");
    const cookieAds         = document.getElementById("cookieAds");

    if (!localStorage.getItem("cookieConsent")) {
      cookieBanner.style.display = "flex";
    }

    cookieAcceptAll.addEventListener("click", () => {
      localStorage.setItem("cookieConsent", "all");
      localStorage.setItem("cookieAnalytics", "yes");
      localStorage.setItem("cookieAds", "yes");
      cookieBanner.style.display = "none";
    });

    cookiePrefsBtn.addEventListener("click", () => {
      cookieModal.style.display = "flex";
      cookieAnalytics.checked = localStorage.getItem("cookieAnalytics") === "yes";
      cookieAds.checked = localStorage.getItem("cookieAds") === "yes";
    });

    cookieClose.addEventListener("click", () => {
      cookieModal.style.display = "none";
    });

    cookieSaveBtn.addEventListener("click", () => {
      localStorage.setItem("cookieAnalytics", cookieAnalytics.checked ? "yes" : "no");
      localStorage.setItem("cookieAds", cookieAds.checked ? "yes" : "no");
      localStorage.setItem("cookieConsent", "custom");
      cookieModal.style.display = "none";
      cookieBanner.style.display = "none";
    });


    /* -----------------------------
       API MODAL LOGIC (GROQ KEY)
    ----------------------------- */
    const apiModal    = document.getElementById("apiModal");
    const apiClose    = document.getElementById("apiClose");
    const apiKeyInput = document.getElementById("apiKeyInput");
    const apiStatus   = document.getElementById("apiStatus");
    const saveKeyBtn  = document.getElementById("saveKeyBtn");
    const clearKeyBtn = document.getElementById("clearKeyBtn");
    const toggleKeyBtn= document.getElementById("toggleKeyBtn");
    const settingsBtn = document.getElementById("settingsBtn");

    let savedKey = localStorage.getItem("groqKey") || "";

    function updateKeyStatus() {
      if (savedKey) {
        apiStatus.textContent = "API key saved.";
        apiKeyInput.value = savedKey;
      } else {
        apiStatus.textContent = "No API key saved yet.";
        apiKeyInput.value = "";
      }
    }
    updateKeyStatus();

    function openApiModal() {
      apiModal.style.display = "flex";
    }
    function closeApiModal() {
      apiModal.style.display = "none";
    }

    if (settingsBtn) {
      settingsBtn.addEventListener("click", openApiModal);
    }

    apiClose.addEventListener("click", closeApiModal);

    apiModal.addEventListener("click", (e) => {
      if (e.target === apiModal) closeApiModal();
    });

    toggleKeyBtn.addEventListener("click", () => {
      apiKeyInput.type = apiKeyInput.type === "password" ? "text" : "password";
    });

    saveKeyBtn.addEventListener("click", () => {
      savedKey = apiKeyInput.value.trim();
      localStorage.setItem("groqKey", savedKey);
      updateKeyStatus();
      alert("API key saved!");
    });

    clearKeyBtn.addEventListener("click", () => {
      localStorage.removeItem("groqKey");
      savedKey = "";
      updateKeyStatus();
      alert("API key cleared.");
    });


    /* -----------------------------
       MODALS: HOW TO, TOS, PRIVACY
    ----------------------------- */
    const howModal   = document.getElementById("howModal");
    const howBtn     = document.getElementById("howToBtn");
    const howClose   = document.getElementById("howClose");

    howBtn.addEventListener("click", () => {
      howModal.style.display = "flex";
    });
    howClose.addEventListener("click", () => {
      howModal.style.display = "none";
    });
    howModal.addEventListener("click", (e) => {
      if (e.target === howModal) howModal.style.display = "none";
    });

    const tosModal   = document.getElementById("tosModal");
    const tosBtn     = document.getElementById("tosBtn");
    const tosClose   = document.getElementById("tosClose");

    tosBtn.addEventListener("click", () => {
      tosModal.style.display = "flex";
    });
    tosClose.addEventListener("click", () => {
      tosModal.style.display = "none";
    });
    tosModal.addEventListener("click", (e) => {
      if (e.target === tosModal) tosModal.style.display = "none";
    });

    const privacyModal = document.getElementById("privacyModal");
    const privacyBtn   = document.getElementById("privacyBtn");
    const privacyClose = document.getElementById("privacyClose");

    privacyBtn.addEventListener("click", () => {
      privacyModal.style.display = "flex";
    });
    privacyClose.addEventListener("click", () => {
      privacyModal.style.display = "none";
    });
    privacyModal.addEventListener("click", (e) => {
      if (e.target === privacyModal) privacyModal.style.display = "none";
    });


    /* -----------------------------
       HOME BUTTON TOAST
    ----------------------------- */
    const homeBtn   = document.getElementById("homeBtn");
    const homeToast = document.getElementById("homeToast");
    let homeToastTimeout = null;

    homeBtn.addEventListener("click", () => {
      if (homeToastTimeout) clearTimeout(homeToastTimeout);
      homeToast.classList.add("show");
      homeToastTimeout = setTimeout(() => {
        homeToast.classList.remove("show");
      }, 2000);
    });


    /* -----------------------------
       SLIDERS & LABELS
    ----------------------------- */
    const similaritySlider = document.getElementById("similaritySlider");
    const similarityLabel  = document.getElementById("similarityLabel");
    const intensitySlider  = document.getElementById("intensitySlider");
    const intensityLabel   = document.getElementById("intensityLabel");
    const paraSlider       = document.getElementById("paragraphSlider");
    const paraCountLabel   = document.getElementById("paraCountLabel");

    similaritySlider.addEventListener("input", () => {
      similarityLabel.textContent =
        similaritySlider.value === "1"
          ? "Very different"
          : similaritySlider.value === "2"
          ? "Balanced"
          : "Very similar";
    });

    intensitySlider.addEventListener("input", () => {
      const v = parseInt(intensitySlider.value, 10);
      intensityLabel.textContent =
        v === 1 ? "Chill & mild"
        : v === 2 ? "Cool / casual"
        : v === 3 ? "Angry"
        : "Meltdown / screaming";
    });

    paraSlider.addEventListener("input", () => {
      paraCountLabel.textContent = `(${paraSlider.value})`;
    });

    // Initialize labels
    similaritySlider.dispatchEvent(new Event("input"));
    intensitySlider.dispatchEvent(new Event("input"));
    paraSlider.dispatchEvent(new Event("input"));


    /* -----------------------------
       MAIN RANT GENERATOR LOGIC
    ----------------------------- */
    const generateBtn       = document.getElementById("generateBtn");
    const shuffleBtn        = document.getElementById("shuffleBtn");
    const uniqueBtn         = document.getElementById("uniqueBtn");
    const copyBtn           = document.getElementById("copyBtn");
    const copyFlash         = document.getElementById("copyFlash");

    const topicInput        = document.getElementById("topicInput");
    const introSelect       = document.getElementById("introSelect");
    const customIntroInput  = document.getElementById("customIntroInput");
    const pasteInput        = document.getElementById("pasteInput");
    const narratorSelect    = document.getElementById("narratorSelect");
    const includeSlang      = document.getElementById("includeSlang");
    const softSwears        = document.getElementById("softSwears");
    const output            = document.getElementById("output");

    async function runGeneration(mode) {
      if (!savedKey) {
        openApiModal();
        return;
      }

      const topic       = topicInput.value.trim() || "random chaos";
      const paragraphs  = parseInt(paraSlider.value, 10) || 4;
      let intro         = introSelect.value;
      if (intro === "custom") {
        intro = customIntroInput.value.trim() || "Bro‚Ä¶";
      }

      const narrator    = narratorSelect.value;
      const meltdown    = parseInt(intensitySlider.value, 10);
      const lang        = languageHidden.value;
      const paste       = pasteInput.value.trim();
      const similarity  = parseInt(similaritySlider.value, 10);
      const slang       = includeSlang.checked;
      const swears      = softSwears.checked;

      const bodyData = {
        model: "mixtral-8x7b-32768",
        messages: [
          {
            role: "user",
            content: `
Write a Roblox-style rant in ${lang}.
Paragraphs: ${paragraphs}.
Narrator: ${narrator}.
Meltdown level: ${meltdown}.
Include slang: ${slang}.
Allow soft swears: ${swears}.
Mode: ${mode}.
Intro style: ${intro}.
Topic: ${topic}.
User-pasted text: ${paste}.
Similarity level: ${similarity}.
`
          }
        ]
      };

      try {
        const response = await fetch("https://api.groq.com/openai/v1/chat/completions", {
          method: "POST",
          headers: {
            "Authorization": "Bearer " + savedKey,
            "Content-Type": "application/json"
          },
          body: JSON.stringify(bodyData)
        });

        const data = await response.json();
        output.value = data?.choices?.[0]?.message?.content || "No response.";
      } catch (err) {
        console.error(err);
        output.value = "Error contacting Groq API. Check console and your key.";
      }
    }

    generateBtn.addEventListener("click", () => runGeneration("normal"));
    shuffleBtn.addEventListener("click",  () => runGeneration("shuffle"));
    uniqueBtn.addEventListener("click",   () => runGeneration("unique"));


    /* -----------------------------
       COPY BUTTON
    ----------------------------- */
    copyBtn.addEventListener("click", () => {
      if (!output.value.trim()) return;
      navigator.clipboard.writeText(output.value);
      copyFlash.classList.add("show");
      setTimeout(() => copyFlash.classList.remove("show"), 900);
    });
  </script>
</body>
</html>
